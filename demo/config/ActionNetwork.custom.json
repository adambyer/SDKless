{
	"global": {
		"parameter_maps": {
			"list_id": "API-KEY",
			"api_key": "API-KEY"
		}
	},
	"endpoints": {
		"pull_export_lists": {
			"maps_to": "get_forms",
			"parameters": {
				"per_page": 25
			},
			"output": {
				"data": {
					"location": ["_embedded", "osdi:forms"],
					"items": {
						"locations": {
							"id": ["identifiers", 0],
							"name": "summary"
						}
					}
				}
			}
		},
		"pull_list_id_by_name": {
			"maps_to": "get_forms",
			"parameters": {
				"per_page": 25
			},
			"parameter_maps": {
				"list_name": "LIST-NAME"
			},
			"output": {
				"data": {
					"location": ["_embedded", "osdi:forms"],
					"items": {
						"locations": {
							"id": ["identifiers", 0],
							"name": "summary"
						}
					}
				},
				"filter": [
					{
						"search_key": "name",
						"search_value": "*|LIST-NAME|*",
						"return_key": "id"
					}
				]
			}
		},
		"pull_list_contacts_ids": {
			"maps_to": "get_form_submissions",
			"parameters": {
				"per_page": 25
			},
			"parameter_maps": {
				"list_id": "FORM-ID"
			},
			"output": {
				"data": {
					"location": ["_embedded", "osdi:submissions"],
					"items": {
						"locations": {
							"id": "action:person_id"
						}
					}
				}
			}
		},
		"pull_list_contacts": {
			"maps_to": "get_people",
			"parameters": {
				"per_page": 25
			},
			"output": {
				"data": {
					"location": ["_embedded", "osdi:people"],
					"items": {
						"locations": {
							"id": ["identifiers", 0],
							"email_address": [
								"email_addresses",
								{
									"search_key": "primary",
									"search_value": 1,
									"return_key": "address"
								}
							],
							"first_name": "given_name",
							"last_name": "family_name"
						}
					}
				}
			}
		},
		"pull_list_count": {
			"maps_to": "get_people",
			"parameters": {
				"per_page": 1
			},
			"output": {
				"data": {
					"format": "scalar",
					"location": ["total_records"]
				}
			},
			"paging": false
		},
		"pull_contact": {
			"maps_to": "get_person",
			"parameter_maps": {
				"contact_id": "PERSON-ID"
			},
			"output": {
				"data": {
					"format": "structure",
					"items": {
						"locations": {
							"id": ["identifiers", 0],
							"email_address": [
								"email_addresses",
								{
									"search_key": "primary",
									"search_value": 1,
									"return_key": "address"
								}
							],
							"first_name": "given_name",
							"last_name": "family_name"
						}
					}
				}
			}
		},
		"push_list": {
			"maps_to": "create_form",
			"parameter_maps": {
				"list_name": "summary"
			},
			"parameters": {
				"originating_system" : "****"
			},
			"output": {
				"data": {
					"format": "scalar",
					"location": ["identifiers", 0]
				}
			}
		},
		"push_list_contact": {
			"maps_to": "create_form_submission",
			"parameter_maps": {
				"list_id": "FORM-ID"
			},
			"parameters": {
				"originating_system" : "****",
				"person": {
					"given_name" : "*|FIRST-NAME|*",
					"family_name" : "*|LAST-NAME|*",
			    "postal_addresses" : [{"postal_code": "*|ZIP-CODE|*"}],
			    "email_addresses" : [{"address": "*|EMAIL-ADDRESS|*"}]
				}
			}
		}
	}
}